{"version":3,"file":"MapboxSource.js","sources":["../../src/components/MapboxSource.vue"],"sourcesContent":["<template>\n  <div :id=\"id\" />\n</template>\n\n<script>\n  import { injectMap } from '../mixins/provide-inject-map';\n\n  export default {\n    name: 'MapboxSource',\n    mixins: [ injectMap() ],\n    props: {\n      options: {\n        type: Object,\n        default: () => {},\n      },\n      id: {\n        type: String,\n        required: true,\n      },\n    },\n    watch: {\n      'options.data': function watchOptionsData(newData) {\n        this.map.getSource(this.id).setData(newData);\n      },\n    },\n    mounted() {\n      this.map.addSource(this.id, this.options);\n    },\n    destroyed() {\n      // Remove all layers tied to the source\n      const { _layers: layers } = this.map.style;\n      Object.values(layers).forEach((value) => {\n        if (value.source === this.id) {\n          this.map.removeLayer(value.id);\n        }\n      });\n\n      // And remove the source\n      this.map.removeSource(this.id);\n    },\n  };\n</script>\n"],"names":[],"mappings":";;;;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAAA;;;AALA,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}